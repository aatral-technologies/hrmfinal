{"version":3,"file":"table-element.js","sourceRoot":"","sources":["../../src/table-element.ts"],"names":[],"mappings":"AACA,OAAO,SAAS,MAAM,kBAAkB,CAAC;AAIzC;IAAA;IAoCA,CAAC;IA1BC,6BAAM,GAAN;QACE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IAED,wCAAiB,GAAjB;QACE,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;YACf,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;;YAEvC,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,gCAAS,GAAT;QACE,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAChD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,qCAAc,GAAd;QACE,IAAI,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO;YAChC,IAAI,CAAC,MAAM,EAAE,CAAC;aACX;YACH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC;YACrC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;SACtB;IACH,CAAC;IAGH,mBAAC;AAAD,CAAC,AApCD,IAoCC","sourcesContent":["import { FormGroup } from '@angular/forms';\nimport cloneDeep from 'lodash.clonedeep';\n\nimport { TableDataSource } from './table-data-source';\n\nexport abstract class TableElement<T> {\n  id: number;\n  editing: boolean;\n  currentData: T;\n  originalData?: T;\n  source: TableDataSource<T>;\n\n  abstract get validator(): FormGroup;\n  abstract set validator(validator: FormGroup);\n\n  delete(): void {\n    this.source.delete(this.id);\n  }\n\n  confirmEditCreate(): boolean {\n    if (this.id == -1)\n      return this.source.confirmCreate(this);\n    else\n      return this.source.confirmEdit(this);\n  }\n\n  startEdit(): void {\n    this.originalData = cloneDeep(this.currentData);\n    this.editing = true;\n  }\n\n  cancelOrDelete() {\n    if (this.id == -1 || !this.editing)\n      this.delete();\n    else {\n      this.currentData = this.originalData;\n      this.editing = false;\n    }\n  }\n\n  abstract isValid(): boolean;\n}\n"]}